{"version":3,"sources":["components/person.js","components/filter.js","services/numbers.js","components/add.js","components/notification.js","components/app.js","index.js"],"names":["Person","name","number","Filter","setNewFilter","onChange","event","target","value","baseUrl","object","getAll","axios","get","then","response","data","create","newData","post","update","id","put","deleteData","oldData","delete","Add","persons","setPersons","setNewMessage","useState","newName","setNewName","newNumber","setNewNumber","console","log","onSubmit","preventDefault","person","some","pers","newMessage","description","state","setTimeout","window","confirm","personInDB","find","numberService","map","p","concat","type","Notification","message","stateMessage","className","App","newFilter","useEffect","dataNumbers","filter","toLowerCase","includes","onClick","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c3ae08b4.chunk.js","sourcesContent":["export const Person = ({name,number}) => {\r\n    \r\n    return (\r\n        <p>\r\n            <span>Name: {name}  </span> \r\n            <span>Number: {number}   </span>\r\n        </p>\r\n    )\r\n}","\r\nexport const Filter = ({setNewFilter}) => {\r\n    \r\n    const handlerChangeFilter = (event) => {\r\n        setNewFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Search with an : <input onChange={handlerChangeFilter}/></div>\r\n        </div>\r\n        \r\n    )\r\n}","import axios from \"axios\"\r\n\r\n//const baseUrl = \"http://localhost:3001/api/persons\"           \r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newData) => {\r\n    const request = axios.post(baseUrl,newData)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id,newData) => {\r\n    const request = axios.put(baseUrl + \"/\" + id,newData)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteData = (oldData) => {\r\n    const request = axios.delete(baseUrl + \"/\" + oldData.id,oldData)\r\n    return request.then()\r\n}\r\n\r\nconst object = {getAll,create,update,deleteData}\r\nexport default object","import { useState } from \"react\"\r\nimport numberService from \"../services/numbers\"\r\n\r\nexport const Add = ({persons,setPersons,setNewMessage}) => {\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber] = useState(\"\")\r\n\r\n    const handlerChangeName = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n    const handlerChangeNumber = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n    const handlerSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        const person = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        \r\n        if (persons.some(pers => pers.name === person.name)){\r\n            const newMessage = {\r\n                description:`${person.name} ya fue agregad@... Desea cambiar el numero?`,\r\n                state:\"error\"\r\n            }\r\n            setNewMessage(newMessage)\r\n            setTimeout(() => {\r\n                setNewMessage({description:null,state:\"\"})\r\n              }, 5000)\r\n\r\n            if (window.confirm(`${person.name} ya fue agregad@... Desea cambiar el numero?`)){\r\n                const personInDB = persons.find(pers => pers.name === person.name)\r\n                numberService\r\n                    .update(personInDB.id,person)\r\n                    .then(() => {\r\n                        setPersons(persons.map( p => { \r\n                            if (p.name === person.name) {return person}\r\n                            else {return p}}))\r\n\r\n                        const newMessage = {\r\n                            description:\"Added \" + person.name,\r\n                            state:\"message\"\r\n                        }\r\n                        setNewMessage(newMessage)\r\n                        setTimeout(() => {\r\n                            setNewMessage({description:null,state:\"\"})\r\n                          }, 5000)\r\n                    })\r\n            }\r\n            return\r\n        }\r\n        else {\r\n            numberService\r\n                .create(person)\r\n                .then( newData => {\r\n                    setPersons(persons.concat(newData))\r\n                    const newMessage = {\r\n                        description:\"Added \" + person.name,\r\n                        state:\"message\"\r\n                    }\r\n                    setNewMessage(newMessage)\r\n                    setTimeout(() => {\r\n                        setNewMessage({description:null,state:\"\"})\r\n                      }, 5000)\r\n                })\r\n        }\r\n    }\r\n\r\n    console.log(\"render Adder\")\r\n    return (\r\n    <div>\r\n        <form onSubmit={handlerSubmit}>\r\n          <div>Name: <input onChange={handlerChangeName}/></div>\r\n          <div>Number: <input onChange={handlerChangeNumber}/></div>\r\n          <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    </div>\r\n    )\r\n}","const Notification = ({message,stateMessage}) => {\r\n    if (message === null){return null}\r\n\r\n    return (\r\n        <div className={stateMessage}>\r\n            {message}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\r\nimport { Person } from './person'\r\nimport { Filter } from './filter'\r\nimport { Add } from './add'\r\nimport numberService from \"../services/numbers\"\r\nimport axios from 'axios'\r\nimport Notification from './notification'\r\n\r\n\r\n\r\nexport const App = () => {\r\n    const [ persons, setPersons ] = useState([]) \r\n    const [ newFilter, setNewFilter ] = useState(\"\")\r\n    const [ message , setNewMessage ] = useState({description:null,state:\"\"})\r\n    \r\n  \r\n    const hook = () => {\r\n      numberService\r\n        .getAll()\r\n        .then(dataNumbers => {\r\n                setPersons(dataNumbers)\r\n              }\r\n          )\r\n        \r\n    }\r\n\r\n    useEffect(hook,[])\r\n    console.log(\"render APP\")\r\n\r\n    const deletePerson = (person) => {\r\n      if (window.confirm(\"La entrada sera borrada...Esta seguro?\")){\r\n          axios.delete(\"http://localhost:3001/numbers/\" + person.id).then(response => console.log(response))\r\n          setPersons(persons.filter(pers => pers.name !== person.name))\r\n      }\r\n  }\r\n\r\n    return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n        <Notification message={message.description} stateMessage={message.state}/>\r\n        <Filter setNewFilter={setNewFilter}/>\r\n        <h2>Add a new</h2>\r\n        <Add   setPersons={setPersons}   persons={persons} setNewMessage={setNewMessage}/>\r\n        <h2>Persons</h2>\r\n        {persons\r\n        .filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n        .map(person => {\r\n          return(\r\n            <div key={person.id}>\r\n              <Person   name={person.name} number={person.number}/>\r\n              <button  onClick={() => deletePerson(person)}>delete</button>\r\n            </div>\r\n            )\r\n        } )}\r\n      </div>\r\n    )\r\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from \"./components/app\"\nimport './index.css'\n\n\nReactDOM.render(<App/>,document.getElementById('root'));\n\n"],"sourceRoot":""}